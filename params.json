{"name":"jquery.animate","tagline":"By CSS3 Transition, Support The .stop() method.","body":"﻿# jquery.animate\r\n\r\n重写了 <b>jQuery.animate</b> 的默认行为，使它优先使用 <b>CSS3 Transition</b> 来实现动画。<br>\r\n\r\nRewrite the <b>jQuery.animate</b>'s default behavior, The priority use <b>CSS3 Transition</b> to achieve animation.<br>\r\n\r\n\r\n## 为什么使用？ / Why use?\r\n\r\n这个插件是对 <b>jQuery.animate</b> 方法的改写，你不需要考虑修改你的代码，你只需要导入插件，就可以让你所有的 <b>jQuery</b> 动画转化为 <b>CSS3 Transition</b>。<br>\r\n\r\nThis plugin is the rewriting of <b>jQuery.animate</b> method, you do not need to consider modifying your code, you just need to include plug-in, can let all of your <b>jQuery</b> animation into <b>CSS3 Transition</b>.<br>\r\n\r\n\r\n## Usage\r\n\r\n将 [jquery.animate.js] 引在 jQuery 之后。<br>\r\nJust include [jquery.animate.js] after jQuery.<br>\r\n\r\n\r\n``` html\r\n\r\n<script src=\"jquery.js\"></script>\r\n<script src=\"jquery.animate.js\"></script>\r\n\r\n```\r\n[jquery.animate.js]: https://github.com/baijunjie/jquery.animate/blob/master/jquery.animate.js\r\n\r\n\r\n## cssHook\r\n\r\n可以直接通过 <b>.css()</b> 方法来设置 <b>Transform</b> 属性。<br>\r\nCan be directly through the <b>.css()</b> method to set the <b>Transform</b> properties.<br>\r\n\r\n``` js\r\n$(\"div\").css({ x: \"100px\" });                       //=> translate(100px, 0)\r\n$(\"div\").css({ y: \"100%\" });                        //=> translate(0, 100%)\r\n$(\"div\").css({ translate: [200,100] });             //=> translate(200px, 100px)\r\n$(\"div\").css({ translate3d: [200,100,300] });       //=> translate(200px, 100px) translateZ(300px) \r\n$(\"div\").css({ scale: 2 });                         //=> scale(2)\r\n$(\"div\").css({ scaleX: 3 });                        //=> scale(3,1)\r\n$(\"div\").css({ scaleZ: 2 });                        //=> scaleZ(2)\r\n$(\"div\").css({ scale3d: [2, 1.5, 4] });             //=> scale(2,1.5) scaleZ(4) \r\n$(\"div\").css({ rotate: \"30deg\" });                  //=> rotate(30deg)\r\n$(\"div\").css({ rotateX: 45 });                      //=> rotateX(45deg)\r\n$(\"div\").css({ rotateY: \"1rad\" });                  //=> rotateX(1rad)\r\n$(\"div\").css({ rotateZ: 90 });                      //=> rotate(90deg)\r\n$(\"div\").css({ rotate3d: [60,30,90] });             //=> rotateX(60deg) rotateY(30deg) rotate(90deg)\r\n$(\"div\").css({ skewX: \"30deg\" });                   //=> skewX(30deg)\r\n$(\"div\").css({ skewY: 60 });                        //=> skewY(60deg)\r\n$(\"div\").css({ skew: [30,60] });                    //=> skewX(30deg) skewY(60deg)\r\n```\r\n\r\n\r\n设置透视点。<br>\r\nSet perspective.<br>\r\n\r\n```js\r\n// Note the difference between\r\n$(\"div\").css({ \"perspective\": 100 });  //=>  perspective: 100px;\r\n$(\"div\").css({ \"pers\": 100 });         //=>  transform: perspective(100px);\r\n```\r\n\r\n\r\n读取属性值。<br>\r\nRead the attribute value.<br>\r\n``` js\r\n$(\"div\").css({ x: 100 }).css(\"x\");                       //=> \"100px\"\r\n$(\"div\").css({ x: 100, y: 200 }).css(\"translate\");       //=> [\"100px\", \"200px\"]\r\n$(\"div\").css({ scaleX: 3, scaleY: 3 }).css(\"scale\");     //=> \"3\"\r\n$(\"div\").css({ scaleX: 3 }).css(\"scale\");                //=> [\"3\",\"1\"]\r\n\r\n```\r\n\r\n\r\n支持删除属性。<br>\r\nSupport delete attributes.<br>\r\n```js\r\n.css({ translate: \"2, 5\" });                 //=> \"translate(2px, 5px)\"\r\n.css({ translate: \"\" });                     //=> remove \"translate(2px, 5px)\"\r\n.css({ scale: \"2,3\" }).css({ scaleX: \"\" });  //=> \"scale(1, 3)\"\r\n```\r\n\r\n\r\n## animate\r\n\r\n支持 <b>jQuery.animate</b> 原生的所有写法。<br>\r\nSupport all <b>jQuery.animate</b> native writing.<br>\r\n\r\n```js\r\n$(\"div\").hide(2000);\r\n$(\"div\").hide().slideDown(2000, \"easeOutBack\");\r\n$(\"div\").hide().fadeIn(2000, function() { ... });\r\n\r\n$(\"div\").animate({left: 100});\r\n$(\"div\").animate({x: 200}, 1000, \"easeOutBack\", function() { ... });\r\n\r\n$(\"div\").animate({opacity: 0},{\r\n\tqueue: false,\r\n\tduration: 2000,\r\n\teasing: \"linear\"\r\n});\r\n\r\n$(\"div\").animate({\r\n\tleft: [100, \"linear\"],\r\n\ttop: [200, \"easeOutBack\"],\r\n\tscale: [[2,3], \"easeInBack\"]\r\n});\r\n\r\n$(\"div\").animate({\r\n\tleft: 100,\r\n\ttop: 200\r\n},{\r\n\tqueue: false,\r\n\tduration: 2000,\r\n\tspecialEasing: {\r\n\t\tleft: \"linear\",\r\n\t\ttop: \"easeOutBack\"\r\n\t}\r\n});\r\n```\r\n\r\n<b>Transform</b> 属性还支持特殊的写法。<br>\r\n<b>Transform</b> properties also supports special writing.<br>\r\n\r\n```js\r\n$(\"div\").animate({ \"scale\": [1, 2] });\r\n$(\"div\").animate({ \"rotate3d\": \"30,20,90\" });\r\n```\r\n\r\n\r\n支持复合属性的动画。<br>\r\nTo support the animation of the composite properties.<br>\r\n\r\n```js\r\n$(\"div\").animate({ \"border-radius\": \"10px 20px 30px 40px\" });\r\n$(\"div\").animate({ \"transform-origin\": \"100px 300px\" });\r\n$(\"div\").animate({ \"box-shadow\": \"inset 50px 50px 1px #000\"});\r\n```\r\n\r\n\r\n可以完美支持 <b>.stop()</b> 以及 <b>.finish()</b> 方法。<br>\r\nCan perfect support <b>.stop()</b> and <b>.finish()</b> method.<br>\r\n```js\r\n$(\"div\").animate({ x: 200 }, 2000, \"linear\");\r\nwindow.setTimeout(function() {\r\n\t$(\"div\").stop();\r\n\tconsole.log($(\"div\").css(\"x\"));  //=> 100px\r\n}, 1000);\r\n```\r\n```js\r\n$(\"div\").animate({ x: 200 }, 2000, \"linear\");\r\n$(\"div\").finish();\r\nconsole.log($(\"div\").css(\"x\"));  //=> 200px\r\n```\r\n\r\n现在可以支持颜色动画了，并且可以使用 <b>.stop()</b> 方法停止到某个颜色值。<br>\r\nCan support color animation now, and you can use the <b>.stop()</b> method to stop to a color value.<br>\r\n\r\n```js\r\n$(\"div\").animate({ \"background-color\": \"black\" }, 5000);\r\n```\r\n\r\n\r\n注意，由于 <b>CSS3 Transition</b> 动画的只支持三次贝塞尔曲线，因此[jQuery.easing]中的某些缓动无法支持，比如：Bounce。<br>\r\n如果使用了它不支持的 <b>Easing</b>，那么将会使用原来的 <b>jQuery.animate</b> 方法来实现该动画。<br>\r\n\r\nNote that because of <b>CSS3 Transition</b> animation support only three times bezier curve, so some slow moving in [jQuery.easing] cannot support, such as: Bounce.<br>\r\nIf use it does not support <b>Easing</b>, We will use the original <b>jQuery.animate</b> methods to achieve this animation.<br>\r\n\r\n同时，所有的 <b>Transform</b> 属性不能分别设置 <b>Easing</b>，因为他们的 <b>Transition</b> 都是通过 <b>Transform</b> 属性来设置的。<br>\r\n<del>因此，如果发生这种情况，那么只有第一个 <b>Easing</b> 将作为 <b>transition-timing-function</b>。</del><br>\r\n因为原则上应该优先兼容动画效果，因此这种情况下，将会使用原来的 <b>jQuery.animate</b> 方法来实现该动画。<br>\r\n\r\nMeanwhile, all the <b>Transform</b> property can not be separately set <b>Easing</b>, because their <b>Transition</b> through <b>Transform</b> property to set the.<br>\r\n<del>So, if this happens, only the first <b>Easing</b> will serve as <b>transition-timing-function</b>.</del><br>\r\nBecause in principle should be the priority compatible animation effects, so in this case, will use the original <b>jQuery.animate</b> ways to implement this animation.<br>\r\n\r\n```js\r\n$(\"div\").animate({\r\n\tx: [300, \"easeOutBack\"],\r\n\ty: [200, \"linear\"],\r\n\tscale: [3, \"easeInBack\"]\r\n});\r\n\r\n// CSS will be like this\r\ndiv {\r\n\ttransform: translate(300px, 200px) scale(3);\r\n\ttransition: transform 2000ms easeOutBack;\r\n}\r\n\r\n```\r\n\r\n[jQuery.easing]: https://github.com/gdsmith/jquery.easing\r\n\r\n以下是插件支持的缓动列表。<br>\r\nThe following is a list of transit support slow.<br>\r\n\r\n```js\r\n$.cssEase = {\r\n    \"_default\":       \"swing\",\r\n    \"swing\":          \"easeOutQuad\", // 和 jQuery Easing 相同，查看详情 https://github.com/gdsmith/jquery.easing\r\n    \"linear\":         \"cubic-bezier(0,0,1,1)\",\r\n    \"ease\":           \"cubic-bezier(.25,.1,.25,1)\",\r\n    \"ease-in\":        \"cubic-bezier(.42,0,1,1)\",\r\n    \"ease-out\":       \"cubic-bezier(0,0,.58,1)\",\r\n    \"ease-in-out\":    \"cubic-bezier(.42,0,.58,1)\",\r\n\r\n    \"easeInCubic\":    \"cubic-bezier(.550,.055,.675,.190)\",\r\n    \"easeOutCubic\":   \"cubic-bezier(.215,.61,.355,1)\",\r\n    \"easeInOutCubic\": \"cubic-bezier(.645,.045,.355,1)\",\r\n    \"easeInCirc\":     \"cubic-bezier(.6,.04,.98,.335)\",\r\n    \"easeOutCirc\":    \"cubic-bezier(.075,.82,.165,1)\",\r\n    \"easeInOutCirc\":  \"cubic-bezier(.785,.135,.15,.86)\",\r\n    \"easeInExpo\":     \"cubic-bezier(.95,.05,.795,.035)\",\r\n    \"easeOutExpo\":    \"cubic-bezier(.19,1,.22,1)\",\r\n    \"easeInOutExpo\":  \"cubic-bezier(1,0,0,1)\",\r\n    \"easeInQuad\":     \"cubic-bezier(.55,.085,.68,.53)\",\r\n    \"easeOutQuad\":    \"cubic-bezier(.25,.46,.45,.94)\",\r\n    \"easeInOutQuad\":  \"cubic-bezier(.455,.03,.515,.955)\",\r\n    \"easeInQuart\":    \"cubic-bezier(.895,.03,.685,.22)\",\r\n    \"easeOutQuart\":   \"cubic-bezier(.165,.84,.44,1)\",\r\n    \"easeInOutQuart\": \"cubic-bezier(.77,0,.175,1)\",\r\n    \"easeInQuint\":    \"cubic-bezier(.755,.05,.855,.06)\",\r\n    \"easeOutQuint\":   \"cubic-bezier(.23,1,.32,1)\",\r\n    \"easeInOutQuint\": \"cubic-bezier(.86,0,.07,1)\",\r\n    \"easeInSine\":     \"cubic-bezier(.47,0,.745,.715)\",\r\n    \"easeOutSine\":    \"cubic-bezier(.39,.575,.565,1)\",\r\n    \"easeInOutSine\":  \"cubic-bezier(.445,.05,.55,.95)\",\r\n    \"easeInBack\":     \"cubic-bezier(.6,-.28,.735,.045)\",\r\n    \"easeOutBack\":    \"cubic-bezier(.175, .885,.32,1.275)\",\r\n    \"easeInOutBack\":  \"cubic-bezier(.68,-.55,.265,1.55)\"\r\n};\r\n```\r\n\r\n\r\n# Changelog\r\n\r\n## v1.6.0\r\n* 集成了 [jQuery Easing v1.3](http://gsgd.co.uk/sandbox/jquery/easing/)\r\n* 集成了 [jQuery requestAnimationFrame - v0.1.3pre](https://github.com/gnarf37/jquery-requestAnimationFrame)\r\n\r\n## v1.5.2\r\n* 修复了一个严重的 bug，该 bug 导致动画队列不正常。\r\n\r\n## v1.5.1\r\n* 现在可以支持 text-shadow 和 box-shadow 的阴影动画了\r\n\r\n## v1.4.2\r\n* 现在可以正确的识别递增和递减值了，例如：$(\"div\").animate({ left: \"+=100%\" });\r\n\r\n## v1.4.1\r\n* 优化代码结构\r\n* 当为 transform 中的属性分别设置了不同的 easing 时，现在改为使用原来的 <b>jQuery.animate</b> 方法来实现该动画\r\n\r\n## v1.4\r\n* 现在支持复合属性的动画了\r\n* 区分开透视点的两种设置方法\r\n\r\n## v1.3\r\n* 修正了一个严重的 bug\r\n* 弃用 transitionend 事件\r\n\r\n## v1.2\r\n* 添加了对颜色动画的支持\r\n\r\n\r\n# Thanks\r\n\r\n这个插件是参考以下插件编写的，感谢作者！<br> \r\nThis plug-in is written in reference to the following plug-ins, thanks to the author!<br>\r\n\r\n__[jquery.transit](https://github.com/rstacruz/jquery.transit)__<br>\r\n__[jQuery 2D transformations](https://github.com/heygrady/transform/)__<br>\r\n__[jquery.animate-colors](https://github.com/MilesOkeefe/jquery.animate-colors)__<br>\r\n__[jQuery Easing v1.3](http://gsgd.co.uk/sandbox/jquery/easing/)__<br>\r\n__[jQuery requestAnimationFrame - v0.1.3pre](https://github.com/gnarf37/jquery-requestAnimationFrame)__<br>\r\n\r\n\r\n\r\n\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}